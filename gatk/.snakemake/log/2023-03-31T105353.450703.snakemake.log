Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 20
Rules claiming more threads will be scaled down.
Job stats:
job                  count    min threads    max threads
-----------------  -------  -------------  -------------
AnalyzeCovariates        1              1              1
ApplyBQSR                1              1              1
BaseRecalibrator         1              1              1
BaseRecalibrator2        1              1              1
all                      1              1              1
mutect2                  1              1              1
normalchromosome         1              1              1
subset_tumor             1              1              1
total                    8              1              1

Select jobs to execute...

[Fri Mar 31 10:53:53 2023]
rule normalchromosome:
    input: /storage/zhangyanxiaoLab/suzhuojie/software/varCA/data/S04.bam
    output: /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/normal_chromosome/S04.bam, /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/normal_chromosome/S04.bam.bai
    jobid: 1
    reason: Code has changed since last execution
    wildcards: sample=S04
    resources: tmpdir=/tmp

[Fri Mar 31 15:58:03 2023]
Finished job 1.
1 of 8 steps (12%) done
Select jobs to execute...

[Fri Mar 31 15:58:03 2023]
rule BaseRecalibrator:
    input: /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/normal_chromosome/S04.bam
    output: /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/result/merge_data/before_doubletfinder/gatk/recal_table/S04_recal_data.table1
    jobid: 2
    reason: Missing output files: /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/result/merge_data/before_doubletfinder/gatk/recal_table/S04_recal_data.table1; Input files updated by another job: /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/normal_chromosome/S04.bam
    wildcards: sample=S04
    resources: tmpdir=/tmp

[Fri Mar 31 20:25:27 2023]
Finished job 2.
2 of 8 steps (25%) done
Select jobs to execute...

[Fri Mar 31 20:25:27 2023]
rule ApplyBQSR:
    input: /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/normal_chromosome/S04.bam, /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/result/merge_data/before_doubletfinder/gatk/recal_table/S04_recal_data.table1
    output: /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/fixed/S04_marked_fixed.bam, /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/fixed/S04_marked_fixed.bam.bai
    jobid: 3
    reason: Missing output files: /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/fixed/S04_marked_fixed.bam, /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/fixed/S04_marked_fixed.bam.bai; Input files updated by another job: /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/result/merge_data/before_doubletfinder/gatk/recal_table/S04_recal_data.table1, /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/normal_chromosome/S04.bam
    wildcards: sample=S04
    resources: tmpdir=/tmp

[Sat Apr  1 05:46:30 2023]
Finished job 3.
3 of 8 steps (38%) done
Select jobs to execute...

[Sat Apr  1 05:46:30 2023]
rule subset_tumor:
    input: /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/fixed/S04_marked_fixed.bam, /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/result/merge_data/before_doubletfinder/gatk/barcode_cancer/S04.txt
    output: /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/fixed_cancer/S04_marked_fixed_cancer.bam, /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/fixed_cancer/S04_marked_fixed_cancer.bam.bai
    jobid: 6
    reason: Missing output files: /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/fixed_cancer/S04_marked_fixed_cancer.bam, /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/fixed_cancer/S04_marked_fixed_cancer.bam.bai; Input files updated by another job: /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/fixed/S04_marked_fixed.bam
    wildcards: sample=S04
    resources: tmpdir=/tmp


[Sat Apr  1 05:46:30 2023]
rule BaseRecalibrator2:
    input: /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/fixed/S04_marked_fixed.bam
    output: /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/result/merge_data/before_doubletfinder/gatk/recal_table/S04_recal_data.table2
    jobid: 4
    reason: Missing output files: /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/result/merge_data/before_doubletfinder/gatk/recal_table/S04_recal_data.table2; Input files updated by another job: /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/fixed/S04_marked_fixed.bam
    wildcards: sample=S04
    resources: tmpdir=/tmp

[Sat Apr  1 05:46:30 2023]
Error in rule subset_tumor:
    jobid: 6
    input: /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/fixed/S04_marked_fixed.bam, /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/result/merge_data/before_doubletfinder/gatk/barcode_cancer/S04.txt
    output: /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/fixed_cancer/S04_marked_fixed_cancer.bam, /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/fixed_cancer/S04_marked_fixed_cancer.bam.bai
    shell:
        samtools view -O BAM -@ '4' -D 'CB:/storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/result/merge_data/before_doubletfinder/gatk/barcode_cancer/S04.txt' -o '/storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/fixed_cancer/S04_marked_fixed_cancer.bam''/storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/fixed/S04_marked_fixed.bam';samtools index /storage/zhangyanxiaoLab/suzhuojie/projects/medulloblastoma/data/rawdata/bam/fixed_cancer/S04_marked_fixed_cancer.bam
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

[Sat Apr  1 10:17:41 2023]
Finished job 4.
4 of 8 steps (50%) done
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2023-03-31T105353.450703.snakemake.log
